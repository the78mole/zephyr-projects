# ESP32-specific Configuration for BTHome Ultrasonic Sensor

# Bluetooth configuration for ESP32 (uses NimBLE stack)
CONFIG_BT_NIMBLE=y
CONFIG_BT_NIMBLE_GAP_DEVICE_NAME="BTHome Ultrasonic ESP32"
CONFIG_BT_NIMBLE_MAX_CONNECTIONS=1
CONFIG_BT_NIMBLE_ROLE_BROADCASTER=y
CONFIG_BT_NIMBLE_ROLE_PERIPHERAL=y

# Disable unnecessary BLE features for power savings
CONFIG_BT_NIMBLE_ROLE_CENTRAL=n
CONFIG_BT_NIMBLE_ROLE_OBSERVER=n
CONFIG_BT_NIMBLE_EXT_ADV=n

# GPIO support for HC-SR04 sensor
CONFIG_GPIO=y

# ESP32-specific timer support for precise measurements
CONFIG_COUNTER=y
CONFIG_ESP32_TIMER=y

# ESP32-specific logging via UART
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_UART_CONSOLE=y
CONFIG_CONSOLE=y

# ESP32 system configuration
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# ESP32 memory optimization
CONFIG_BT_NIMBLE_MSYS_1_BLOCK_COUNT=12
CONFIG_BT_NIMBLE_MSYS_1_BLOCK_SIZE=292